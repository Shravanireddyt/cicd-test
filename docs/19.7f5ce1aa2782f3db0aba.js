(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{lpvz:function(l,n,u){"use strict";u.r(n),u.d(n,"ContactRequestModuleNgFactory",(function(){return Z}));var t=u("CcnG"),e=function(){return function(){}}(),o=u("pMnS"),c=u("Ip0R"),i=u("iccm"),r=u("EUZL"),b=u("gIcY"),s=u("InUX"),a=function(){function l(l,n,u,t){this.httpSrv=l,this.fb=n,this.notSrv=u,this.swpush=t,this.spinner=!0,this.mulselected=!1,this.VAPID_PUBLIC_KEY="BDA-i2SyxmY8bf0sRkuciMF62uh83LQm-dyBcd8tIWILFNcPTw-RrlMOEKfIpnYvtI5a485MZRA2GNW-GDEx9_k",this.tempArr=[],this.mulform=this.fb.group({checkArray:this.fb.array([])})}return l.prototype.ngOnInit=function(){var l=this;this.httpSrv.getInfo("get_contact_requests").subscribe((function(n){console.log("data",n),l.contactData=n,l.spinner=!l.spinner}),(function(l){console.log("error while getting req data")}))},l.prototype.xlsDow=function(l){var n=document.getElementById("tab"),u=r.utils.table_to_sheet(n),t=r.utils.book_new();r.utils.book_append_sheet(t,u,"Sheet1"),r.writeFile(t,l+".xlsx")},l.prototype.onCheckboxChange=function(l){var n=this.mulform.get("checkArray");if(l.target.checked)n.push(new b.i(l.target.value));else{var u=0;n.controls.forEach((function(t){t.value!=l.target.value?u++:n.removeAt(u)}))}this.mulselected=this.mulform.get("checkArray").value.length>0},l.prototype.deleteSelectedUsers=function(){console.log(this.mulform.get("checkArray").value,this.mulform.get("checkArray").value.length),this.httpSrv.delete(this.mulform.get("checkArray").value,"delete").subscribe((function(l){console.log("deleted successfully"),window.location.reload()}),(function(l){console.log("failed to delete")}))},l.prototype.sendNewsletter=function(){console.log("Sending Newsletter to all Subscribers ..."),this.notSrv.send({from:"backop",title:"Sr",msg:"notification from backop"}).subscribe()},l.prototype.subcribe=function(){var l=this;this.swpush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then((function(n){l.sub=n,console.log("Notification Subscription: ",n);var u={};u.sub=l.sub,u.form="backop",l.notSrv.addPushSubscriber(u).subscribe((function(){return console.log("Sent push subscription object to server.")}),(function(l){return console.log("Could not send subscription object to server, reason: ",l)}))})).catch((function(l){return console.error("Could not subscribe to notifications",l)}))},l}(),p=u("AtLt"),h=t.yb({encapsulation:0,styles:[[""]],data:{}});function f(l){return t.cc(0,[(l()(),t.Ab(0,0,null,null,0,"div",[["class","spinner-border text-primary"],["style","margin: 40% 10%;"]],null,null,null,null,null))],null,null)}function m(l){return t.cc(0,[(l()(),t.Ab(0,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deleteSelectedUsers()&&t),t}),null,null)),(l()(),t.Zb(-1,null,["Detele"]))],null,null)}function d(l){return t.cc(0,[(l()(),t.Ab(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t.Ab(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Ab(2,0,null,null,0,"input",[["type","checkbox"]],[[8,"value",0]],[[null,"change"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.onCheckboxChange(u)&&t),t}),null,null)),(l()(),t.Ab(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Zb(4,null,["",""])),(l()(),t.Ab(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Zb(6,null,["",""])),(l()(),t.Ab(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Zb(8,null,["",""])),(l()(),t.Ab(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Zb(10,null,["",""])),(l()(),t.Ab(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Ab(12,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.Zb(13,null,["",""])),(l()(),t.Ab(14,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Zb(15,null,["",""])),(l()(),t.Ab(16,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Ab(17,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.Zb(18,null,["",""])),(l()(),t.Ab(19,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Zb(20,null,["",""])),t.Tb(21,2)],null,(function(l,n){l(n,2,0,n.context.$implicit.id),l(n,4,0,n.context.index+1),l(n,6,0,n.context.$implicit.company_name),l(n,8,0,n.context.$implicit.firstname),l(n,10,0,n.context.$implicit.designation),l(n,12,0,t.Hb(1,"mailto:",n.context.$implicit.email,"")),l(n,13,0,n.context.$implicit.email),l(n,15,0,n.context.$implicit.ip_city),l(n,17,0,t.Hb(1,"tel:",n.context.$implicit.number,"")),l(n,18,0,n.context.$implicit.number);var u=t.ac(n,20,0,l(n,21,0,t.Pb(n.parent.parent,0),n.context.$implicit.contact_date,"short"));l(n,20,0,u)}))}function g(l){return t.cc(0,[(l()(),t.Ab(0,0,null,null,23,"table",[["class","table table-responsive-sm table-hover table-outline mb-0"],["id","tab"]],null,null,null,null,null)),(l()(),t.Ab(1,0,null,null,19,"thead",[["class","thead-dark"]],null,null,null,null,null)),(l()(),t.Ab(2,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t.Ab(3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["Select"])),(l()(),t.Ab(5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["S.No"])),(l()(),t.Ab(7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["CompanyName"])),(l()(),t.Ab(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["Name"])),(l()(),t.Ab(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["Designation"])),(l()(),t.Ab(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["Email"])),(l()(),t.Ab(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["City"])),(l()(),t.Ab(17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["Phone"])),(l()(),t.Ab(19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Zb(-1,null,["ContactedDate"])),(l()(),t.Ab(21,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,d)),t.zb(23,278528,null,0,c.m,[t.R,t.N,t.t],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,23,0,n.component.contactData)}),null)}function A(l){return t.cc(0,[t.Rb(0,c.e,[t.v]),(l()(),t.Ab(1,0,null,null,1,"button",[["class","btn btn-primary float-right mb-2"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.xlsDow("request")&&t),t}),null,null)),(l()(),t.Zb(-1,null,["xlsx"])),(l()(),t.kb(16777216,null,null,1,null,f)),t.zb(4,16384,null,0,c.n,[t.R,t.N],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,m)),t.zb(6,16384,null,0,c.n,[t.R,t.N],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,g)),t.zb(8,16384,null,0,c.n,[t.R,t.N],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(9,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.sendNewsletter()&&t),t}),null,null)),(l()(),t.Zb(-1,null,["SendNotifications"])),(l()(),t.Ab(11,0,null,null,1,"button",[["class","btn btn-primary active"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.subcribe()&&t),t}),null,null)),(l()(),t.Zb(-1,null,["Subscribe"]))],(function(l,n){var u=n.component;l(n,4,0,u.spinner),l(n,6,0,u.mulselected),l(n,8,0,!u.spinner)}),null)}function v(l){return t.cc(0,[(l()(),t.Ab(0,0,null,null,1,"app-request",[],null,null,null,A,h)),t.zb(1,114688,null,0,a,[i.a,b.h,s.a,p.b],null,null)],(function(l,n){l(n,1,0)}),null)}var k=t.wb("app-request",a,v,{},{},[]),y=u("ZYCi"),x={title:"ContactRequest"},N=function(){return function(){}}(),Z=t.xb(e,[],(function(l){return t.Mb([t.Nb(512,t.j,t.cb,[[8,[o.a,k]],[3,t.j],t.y]),t.Nb(4608,c.p,c.o,[t.v]),t.Nb(4608,b.C,b.C,[]),t.Nb(4608,b.h,b.h,[]),t.Nb(1073742336,c.c,c.c,[]),t.Nb(1073742336,y.p,y.p,[[2,y.u],[2,y.l]]),t.Nb(1073742336,N,N,[]),t.Nb(1073742336,b.B,b.B,[]),t.Nb(1073742336,b.n,b.n,[]),t.Nb(1073742336,b.x,b.x,[]),t.Nb(1073742336,e,e,[]),t.Nb(1024,y.j,(function(){return[[{path:"",component:a,data:x}]]}),[])])}))}}]);